<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>vue练习1</title>
	<script src="../lib/vue.js"></script>
	<script src="../lib/vue-resource.js"></script>
	<script>
		window.onload = function(){
			new Vue({
				el: '#box',
				data: {
					str1: '',
					myData: []
				},
				methods: {
					get: function(){
						this.$http.jsonp('https://sug.so.360.cn/suggest',{
							word: this.str1
						},{
							jsonp: 'callback'
						}).then(function(res){
							console.log(res.data);
							this.myData = res.data.s;
						}, function(res){
							console.info(res.status);
						});
					}
				}
			});
		};
	</script>
</head>
<body>
	<div id="box">
		<input type="text" @keyup="get()" v-model="str1">
		{{str1}}
		<ul v-show="myData.length!=0">
			<li v-for="value in myData">{{value}}</li>
		</ul>
		<p v-show="myData.length==0">暂无数据...</p>
	</div>
</body>
</html>