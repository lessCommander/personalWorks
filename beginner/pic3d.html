<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>3D翻转图片</title>
	<style>
		*{
			margin: 0;
			padding: 0;
			font-family: '微软雅黑';
		}
		a{
			text-decoration: none;
			color: #666;
		}
		a:hover{
			text-decoration: underline;
		}
		.btns{
			text-align: center;
		}
		.btns>a{
			margin: 0px 10px;
		}
		#box{
			width: 500px;
			height: 200px;
			background-color: #fef;
			margin: 30px auto;
		}
		#box > ul{
			width: 25px;
			height: 200px;
			list-style: none;
			padding: 0;
			margin: 0;
			float: left;
			position: relative;
					transform-style: preserve-3d;
				-ms-transform-style: preserve-3d;
			   -moz-transform-style: preserve-3d;
			-webkit-transform-style: preserve-3d;
					transform: translateZ(100px);
				-ms-transform: translateZ(100px);
			   -moz-transform: translateZ(100px);
			-webkit-transform: translateZ(100px);
			/*perspective: 800px;*/
		}
		#box > ul > li{
			width: 25px;
			height: 200px;
			position: absolute;
			top: 0;
			left: 0;
			line-height: 200px;
			text-align: center;
		}
		#box > ul > li:nth-of-type(1){
			background-color: red;
		}
		#box > ul > li:nth-of-type(2){
			background-color: orange;
					transform-origin: top;
				-ms-transform-origin: top;
			   -moz-transform-origin: top;
			-webkit-transform-origin: top;
					transform: translateZ(-100px) rotateX(90deg);
				-ms-transform: translateZ(-100px) rotateX(90deg);
			   -moz-transform: translateZ(-100px) rotateX(90deg);
			-webkit-transform: translateZ(-100px) rotateX(90deg);
		}
		#box > ul > li:nth-of-type(3){
			background-color: green;
					transform: translateZ(-100px) rotateX(180deg);
				-ms-transform: translateZ(-100px) rotateX(180deg);
			   -moz-transform: translateZ(-100px) rotateX(180deg);
			-webkit-transform: translateZ(-100px) rotateX(180deg);
		}
		#box > ul > li:nth-of-type(4){
			background-color: blue;
					transform-origin: bottom;
				-ms-transform-origin: bottom;
			   -moz-transform-origin: bottom;
			-webkit-transform-origin: bottom;
					transform: translateZ(-100px) rotateX(270deg);
				-ms-transform: translateZ(-100px) rotateX(270deg);
			   -moz-transform: translateZ(-100px) rotateX(270deg);
			-webkit-transform: translateZ(-100px) rotateX(270deg);
		}
		/* #box:hover > ul{
			transform: rotateX(-180deg);
		} */
	</style>
	<script>
		window.onload = function(){
			var oBox = document.getElementById('box'),
				oPrev = document.getElementById('prev'),
				oNext = document.getElementById('next');
			var i,
				sHtml = '',
				n = oBox.offsetWidth / 25,
				iNow = 0;

			//盒子布局
			for(i = 0; i < n; i++){
				sHtml += '<ul style="transition: all 1s ' + i * 40 + 'ms;"><li style="background: url(img/x1.jpg) no-repeat ' + (i * -25) + 'px 0px"></li><li style="background: url(img/x2.jpg) no-repeat ' + (i * -25) + 'px 0px"></li><li style="background: url(img/x3.jpg) no-repeat ' + (i * -25) + 'px 0px"></li><li style="background: url(img/x4.jpg) no-repeat ' + (i * -25) + 'px 0px"></li></ul>';
			}
			oBox.innerHTML = sHtml;

			// 按钮添加翻转事件
			oPrev.onclick = function(){
				iNow = iNow < 1 ? 3 : --iNow;
				fnRotate();
			};
			oNext.onclick = function(){
				iNow = iNow > 2 ? 0 : ++iNow;
				fnRotate();
			};

			// 翻转函数
			function fnRotate(){
				var aUl = oBox.getElementsByTagName('ul');
				for (var i = 0; i < aUl.length; i++){
						  aUl[i].style.transform = 'rotateX(-' + (iNow*90) + 'deg)';
						aUl[i].style.msTransform = 'rotateX(-' + (iNow*90) + 'deg)';
					   aUl[i].style.MozTransform = 'rotateX(-' + (iNow*90) + 'deg)';
					aUl[i].style.webkitTransform = 'rotateX(-' + (iNow*90) + 'deg)';
				}
			}
		};
	</script>
</head>
<body>
	<div id="box"></div>
	<div class="btns">
		<a href="#" id="prev">上一张</a>
		<a href="#" id="next">下一张</a>
	</div>
</body>
</html>