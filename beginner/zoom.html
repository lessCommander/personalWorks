<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>放大镜</title>
	<style>
		*{
			margin: 0;
			padding: 0;
			color: #666;
		}
		.title{
			margin: 10px auto;
			text-align: center;
		}
		#box1{
			width: 400px;
			height: 400px;
			border: 1px solid #000;
			position: absolute;
			left: 20px;
			top: 50px;
		}
		#box1 > img{
			width: 400px;
			height: 400px;
		}
		#cover{
			width: 100px;
			height: 100px;
			background-color: white;
			opacity: 0;
			position: absolute;
			left: 0;
			top: 0;
		}
		#box2{
			width: 300px;
			height: 300px;
			position: absolute;
			/*display: none;*/
			left: 430px;
			top: 50px;
			overflow: hidden;
		}
		#box2 > img{
			width: 800px;
			height: 800px;
		}
	</style>
	<script>
		window.onload = function(){
			var oBox1 = document.getElementById('box1'),
				oCover = document.getElementById('cover');

			oBox1.onmouseover = mOver;
			oBox1.onmouseout = mOut;
			oBox1.onmousemove = mMove;

			function mOver(){
				oCover.style.opacity = 0.5;
			}

			function mOut(){
				oCover.style.opacity = 0;
			}

			function mMove(e){
				var L = e.clientX - oCover.parentNode.offsetLeft - oCover.offsetWidth/2,
					T = e.clientY - oCover.parentNode.offsetTop - oCover.offsetHeight/2;

				if (L > oCover.parentNode.offsetWidth - oCover.offsetWidth){
					L = oCover.parentNode.offsetWidth - oCover.offsetWidth;
				}else if(L < 0){
					L = 0;
				}

				if (T > oCover.parentNode.offsetHeight - oCover.offsetHeight){
					T = oCover.parentNode.offsetHeight - oCover.offsetHeight;
				}else if(T < 0){
					T = 0;
				}

				oCover.style.left = L + 'px';
				oCover.style.top = T + 'px';
			}
		};
	</script>
</head>
<body>
	<div class="title">请将鼠标移动到图片上</div>
	<div id="box1">
		<img src="img/cup.jpg" alt="">
		<div id="cover"></div>
	</div>
	<div id="box2">
		<img src="img/cup.jpg" alt="">
	</div>
</body>
</html>